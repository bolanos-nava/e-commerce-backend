/** @type {import('swagger-jsdoc').Schema} */
export const cartProduct = {
  type: 'object',
  properties: {
    product: {
      type: 'string',
      description: 'MongoDB id of the product',
      format: 'ObjectId',
    },
    quantity: {
      type: 'integer',
      description: 'Product quantity currently added to cart',
      minimum: 1,
    },
  },
  required: ['product', 'quantity'],
  example: {
    product: '5f7a775a9f77f5109a559248',
    quantity: 2,
  },
};

/** @type {import('swagger-jsdoc').Schema} */
export const cart = {
  type: 'object',
  properties: {
    _id: {
      type: 'ObjectId',
      description: 'MongoDB autogenerated id for the cart',
    },
    products: {
      type: 'array',
      items: {
        $ref: '#/components/schemas/cartProduct',
      },
    },
  },
  required: ['products'],
  examples: {
    cart: {
      _id: '5f7a775a9f77f5109a559248',
      products: [
        {
          product: '5f7a775a9f77f5109a559248',
          quantity: 2,
        },
        {
          product: '5f7a775a9f77f5109a559249',
          quantity: 1,
        },
      ],
    },
  },
};

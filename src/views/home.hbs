<main>
  <div class="d-flex justify-content-between">
    <h1>Productos</h1>
    <div class="d-flex justify-content-right gap-4">
      <button type="button" id="btnCart" class="btn btn-secondary">Carrito</button>
      <a id="btnLogin" class="btn btn-primary d-flex align-items-center d-none" href="/login" style="text-decoration:none; color:white">Iniciar sesión</a>
      <a id="btnRegister" class="btn btn-primary d-flex align-items-center d-none" href="/register" style="text-decoration:none; color:white">Registrarse</a>
      <button id="btnLogout" type="button" id="btnLogout" class="btn btn-primary d-none">Cerrar sesión</button>
    </div>
  </div>

  <ul class="products__list">
    {{#each products}}
      <li data-id={{this._id}} class="item">
        <p class="item__data item__title">{{{this.title}}}</p>
        <p class="item__data">Descripción:
          {{{this.description}}}</p>
        <p class="item__data">Precio: ${{{this.price}}}</p>
        <p>Stock: <span class="item__data product__stock">{{{this.stock}}}</span></p>

        <div class="d-flex justify-left gap-4">
          <div class="d-flex border-1 align-items-center rounded-1">
            <button class="btn-minus-qty" type="button">-</button>
            <span>Cantidad: <span class="quantity-display">1</span></span>
            <button class="btn-plus-qty" type="button">+</button>
          </div>
          <div>
            <button class="btn-add-to-cart" type="button">Agregar al carrito</button>
          </div>
        </div>
      </li>
    {{/each}}
  </ul>

  <div class="d-flex justify-content-between">
    <button
      id="btnPrevPage"
      type="button"
      {{#unless pagination.hasPrevPage}}
      disabled="true"
      {{/unless}}
    >
      Página anterior
    </button>
    <button
     id="btnNextPage"
     type="button"
     {{#unless pagination.hasNextPage}}
     disabled="true"
     {{/unless}}
    >
      Página siguiente
    </button>
  </div>
</main>

<script>
  window.pagination = {{{json pagination}}};
  window.hostname = {{{json hostname}}};
  window.isLogged = {{{json isLogged}}};
</script>
<script type="module" src="/static/js/utils/cartUtils.js"></script>
<script type="module" src="/static/js/home.js"></script>